{% extends 'core/base.html' %}

{% block resources %}
 <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

google.charts.load('current', {packages: ['corechart', 'bar']});
google.charts.setOnLoadCallback(drawBasic);

function drawBasic() {

      var data = google.visualization.arrayToDataTable({{track_average|safe}});

      var options = {
        title: 'Average MAP Per Track',
        chartArea: {width: '50%'},
        hAxis: {
          title: 'Average MAP Score',
          minValue: 0
        },
        vAxis: {
          title: 'Tracks'
        }
      };

      var chart = new google.visualization.BarChart(document.getElementById('chart_div'));

      chart.draw(data, options);
    }
    </script>
{% endblock %}


{% block title %}Tracks{% endblock %}

{% block breadcrumbs %}
<li class="active">Tracks</li>
{% endblock %}

{% block content %}
	
	<div id="chart_div"></div>

	<H1> Tracks </H1>
	<div class="panel panel-default">
		<div class="panel-heading">
			This is the page for all the categories of tracks: <strong>{{ boldmessage }}</strong><br />
		</div>

		<div class="panel-body">
			Filter By: <br>
			<label class="radio-inline">
				<input type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1"> Title
			</label>
			<label class="radio-inline">
				<input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2"> ID
			</label>
		</div>

		{% if track_list %}
			<table class="table table-hover">
				<tr>
					<th>Title</th>
					<th>ID</th>
					<th>Genre</th>
					<th>Description</th>
				</tr>	

				{% for track in track_list %}
					<tr>
						<td><a href="{% url 'track' track.slug %}">{{ track.title }}</a></td>
						<td>{{ track.id }} </td>
						<td>{{ track.genre }}</td>
						<td>{{ track.description }}</td>
					</tr>
				{% endfor %}
			</table>
		{% else %}
			<div class="panel-body">
				<strong>There are no tracks present.</strong><br / >
			</div>
		{% endif %}
	</div>
		
{% endblock %}